# æŠ€æœ¯è®¾è®¡ (Technical Design)

> ğŸ”§ æŠ€æœ¯é€‰å‹ã€å¼€å‘å®è·µã€i18n ç³»ç»Ÿã€çŠ¶æ€ç®¡ç†

---

## ğŸ“‚ æœ¬åˆ†ç±»æ–‡æ¡£

| æ–‡æ¡£ | æè¿° | è¡Œæ•° | æœ€åæ›´æ–° | çŠ¶æ€ |
|------|------|------|----------|------|
| [01-tech-stack.md](./01-tech-stack.md) | æŠ€æœ¯æ ˆé€‰å‹ã€å¯¹æ¯”åˆ†æ | 1,036 | 2025-11-25 | âœ… å®Œæˆ |
| [02-responsive-design.md](./02-responsive-design.md) | å“åº”å¼è®¾è®¡ã€æ–­ç‚¹ç­–ç•¥ | 479 | 2025-11-25 | âœ… å®Œæˆ |
| [03-state-management.md](./03-state-management.md) | çŠ¶æ€ç®¡ç†ã€Signal ä½¿ç”¨ | 592 | 2025-11-25 | âœ… å®Œæˆ |
| [04-development-guide.md](./04-development-guide.md) | å¼€å‘æµç¨‹ã€å·¥å…·é“¾ | 645 | 2025-11-25 | âœ… å®Œæˆ |
| [06-modularization-best-practices.md](./06-modularization-best-practices.md) | æ¨¡å—åŒ–æœ€ä½³å®è·µ | 589 | 2025-11-25 | âœ… å®Œæˆ |
| [I18N_COMPLETION_REPORT.md](./I18N_COMPLETION_REPORT.md) | å›½é™…åŒ–å®ŒæˆæŠ¥å‘Š â­ | 272 | 2025-12-05 | âœ… å®Œæˆ |
| [I18N_GUIDE.md](./I18N_GUIDE.md) | å›½é™…åŒ–å®ç°æŒ‡å— â­ | 438 | 2025-12-05 | âœ… å®Œæˆ |
| [I18N_KEYS_REFERENCE.md](./I18N_KEYS_REFERENCE.md) | 135+ ç¿»è¯‘ Key å‚è€ƒ â­ | 1,200+ | 2025-12-05 | âœ… å®Œæˆ |

**æ€»è®¡**: 8 ä¸ªæ–‡æ¡£ï¼Œ5,251+ è¡Œ

---

## ğŸ¯ å¿«é€Ÿå¯¼èˆª

### æŠ€æœ¯æ ˆäº†è§£
- ğŸ“˜ **[æŠ€æœ¯æ ˆé€‰å‹](./01-tech-stack.md)** - ä¸ºä»€ä¹ˆé€‰æ‹© Dioxus + Rust + WASMï¼Ÿ
- ğŸ¨ **[å“åº”å¼è®¾è®¡](./02-responsive-design.md)** - ç§»åŠ¨ç«¯ã€å¹³æ¿ã€æ¡Œé¢é€‚é…
- ğŸ§  **[çŠ¶æ€ç®¡ç†](./03-state-management.md)** - Signalã€Contextã€Global State

### å¼€å‘å®è·µ
- ğŸ› ï¸ **[å¼€å‘æŒ‡å—](./04-development-guide.md)** - å·¥å…·é“¾ã€è°ƒè¯•ã€æ€§èƒ½ä¼˜åŒ–
- ğŸ“¦ **[æ¨¡å—åŒ–æœ€ä½³å®è·µ](./06-modularization-best-practices.md)** - ä»£ç ç»„ç»‡ã€å‘½åè§„èŒƒ

### å›½é™…åŒ–ç³»ç»Ÿ ğŸŒ (2025å¹´12æœˆæœ€æ–°)
- âœ… **[å›½é™…åŒ–å®ŒæˆæŠ¥å‘Š](./I18N_COMPLETION_REPORT.md)** - 4 è¯­è¨€ï¼Œ540+ ç¿»è¯‘
- ğŸ“– **[å›½é™…åŒ–å®ç°æŒ‡å—](./I18N_GUIDE.md)** - å¦‚ä½•ä½¿ç”¨ i18n ç³»ç»Ÿ
- ğŸ“š **[ç¿»è¯‘ Key å‚è€ƒ](./I18N_KEYS_REFERENCE.md)** - 135+ Key å®Œæ•´åˆ—è¡¨

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„æ¦‚è§ˆ

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         IronForge Frontend Tech Stack        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UI Framework:     Dioxus 0.7 (Rust)        â”‚
â”‚  Build Tool:       Trunk                     â”‚
â”‚  Styling:          Tailwind CSS 3.4         â”‚
â”‚  State:            Signal + Context          â”‚
â”‚  Router:           Dioxus Router             â”‚
â”‚  i18n:             Custom LazyLock Dict      â”‚
â”‚  Storage:          IndexedDB (Dexie)         â”‚
â”‚  Crypto:           web-sys + wasm-bindgen    â”‚
â”‚  HTTP:             gloo-net / reqwest-wasm   â”‚
â”‚  Testing:          cargo test + Selenium     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¸ºä»€ä¹ˆé€‰æ‹© Rust + WASMï¼Ÿ

| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| ğŸš€ **æ€§èƒ½** | æ¥è¿‘åŸç”Ÿé€Ÿåº¦ï¼Œå¯åŠ¨å¿« |
| ğŸ”’ **å®‰å…¨** | ç±»å‹å®‰å…¨ï¼Œå†…å­˜å®‰å…¨ |
| ğŸ“¦ **ä½“ç§¯å°** | WASM å‹ç¼©å < 1MB |
| ğŸ§© **ç»Ÿä¸€æŠ€æœ¯æ ˆ** | å‰åç«¯éƒ½æ˜¯ Rust |
| ğŸ› ï¸ **å·¥å…·é“¾æˆç†Ÿ** | cargo, rustfmt, clippy |

---

## ğŸ“š æŠ€æœ¯æ–‡æ¡£è¯¦è§£

### 1ï¸âƒ£ [æŠ€æœ¯æ ˆé€‰å‹](./01-tech-stack.md)
**é˜…è¯»æ—¶é•¿**: 15 åˆ†é’Ÿ  
**é€‚åˆ**: æ¶æ„å¸ˆã€æŠ€æœ¯å†³ç­–è€…

**æ ¸å¿ƒå†…å®¹**:
- âœ… **Dioxus vs React/Vue/Yew** å¯¹æ¯”åˆ†æ
- âœ… **Tailwind vs CSS-in-Rust** æ ·å¼æ–¹æ¡ˆé€‰æ‹©
- âœ… **ä¾èµ–åº“è¯„ä¼°** (15+ æ ¸å¿ƒä¾èµ–)
- âœ… **æ€§èƒ½åŸºå‡†æµ‹è¯•** (åŠ è½½æ—¶é—´ã€è¿è¡Œæ—¶æ€§èƒ½)

**å…³é”®å†³ç­–**:
- é€‰æ‹© Dioxusï¼šReact-like API + WASM ä¼˜åŒ–
- é€‰æ‹© Tailwindï¼šå¿«é€Ÿå¼€å‘ + ç”Ÿäº§ä¼˜åŒ–
- é€‰æ‹© Signalï¼šç»†ç²’åº¦å“åº”å¼æ›´æ–°

---

### 2ï¸âƒ£ [å“åº”å¼è®¾è®¡](./02-responsive-design.md)
**é˜…è¯»æ—¶é•¿**: 8 åˆ†é’Ÿ  
**é€‚åˆ**: UI å·¥ç¨‹å¸ˆã€è®¾è®¡å¸ˆ

**æ ¸å¿ƒå†…å®¹**:
- ğŸ“± **æ–­ç‚¹ç­–ç•¥**: Mobile (< 640px), Tablet (640-1024px), Desktop (> 1024px)
- ğŸ¨ **Tailwind å“åº”å¼ç±»**: `sm:`, `md:`, `lg:`, `xl:`
- ğŸ–¼ï¸ **å¸ƒå±€é€‚é…**: Grid, Flexbox, Container Queries
- ğŸ”¤ **å­—ä½“ç¼©æ”¾**: rem å•ä½ + clamp()

**ç¤ºä¾‹**:
```rust
rsx! {
    div { class: "w-full md:w-1/2 lg:w-1/3",
        p { class: "text-sm md:text-base lg:text-lg",
            "å“åº”å¼æ–‡æœ¬"
        }
    }
}
```

---

### 3ï¸âƒ£ [çŠ¶æ€ç®¡ç†](./03-state-management.md)
**é˜…è¯»æ—¶é•¿**: 10 åˆ†é’Ÿ  
**é€‚åˆ**: å‰ç«¯å·¥ç¨‹å¸ˆ

**æ ¸å¿ƒå†…å®¹**:
- ğŸ§  **Signal**: ç»†ç²’åº¦å“åº”å¼çŠ¶æ€
- ğŸ“¦ **Context**: è·¨ç»„ä»¶çŠ¶æ€å…±äº«
- ğŸŒ **Global State**: å…¨å±€çŠ¶æ€ç®¡ç†ï¼ˆç”¨æˆ·ã€é’±åŒ…ã€ä½™é¢ï¼‰
- ğŸ”„ **æ•°æ®æµ**: å•å‘æ•°æ®æµ (Action â†’ Update â†’ Re-render)

**æœ€ä½³å®è·µ**:
```rust
// æœ¬åœ°çŠ¶æ€
let mut count = use_signal(|| 0);

// å…¨å±€çŠ¶æ€
let wallet = use_context::<Signal<WalletState>>();

// è®¡ç®—å±æ€§
let doubled = use_memo(move || count() * 2);
```

---

### 4ï¸âƒ£ [å¼€å‘æŒ‡å—](./04-development-guide.md)
**é˜…è¯»æ—¶é•¿**: 12 åˆ†é’Ÿ  
**é€‚åˆ**: æ‰€æœ‰å¼€å‘è€…

**æ ¸å¿ƒå†…å®¹**:
- ğŸ› ï¸ **å·¥å…·é“¾å®‰è£…**: Rust, Trunk, wasm-bindgen
- ğŸ”¥ **å¼€å‘æœåŠ¡å™¨**: `trunk serve --port 8081 --open`
- ğŸ› **è°ƒè¯•æŠ€å·§**: Browser DevTools, console_log!, panic hooks
- ğŸ“Š **æ€§èƒ½ä¼˜åŒ–**: WASM ä½“ç§¯ä¼˜åŒ–ã€æ‡’åŠ è½½ã€ä»£ç åˆ†å‰²
- âœ… **æµ‹è¯•ç­–ç•¥**: å•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•ã€E2E æµ‹è¯•

**å¸¸ç”¨å‘½ä»¤**:
```bash
# å¼€å‘
trunk serve --port 8081

# ç”Ÿäº§æ„å»º
trunk build --release

# æµ‹è¯•
cargo test --target wasm32-unknown-unknown

# æ£€æŸ¥
cargo clippy -- -D warnings
```

---

### 5ï¸âƒ£ [æ¨¡å—åŒ–æœ€ä½³å®è·µ](./06-modularization-best-practices.md)
**é˜…è¯»æ—¶é•¿**: 10 åˆ†é’Ÿ  
**é€‚åˆ**: é«˜çº§å·¥ç¨‹å¸ˆã€æ¶æ„å¸ˆ

**æ ¸å¿ƒå†…å®¹**:
- ğŸ“¦ **æ¨¡å—åˆ’åˆ†åŸåˆ™**: é«˜å†…èšã€ä½è€¦åˆã€å•ä¸€èŒè´£
- ğŸ“ **ç›®å½•ç»“æ„**: Pages, Components, Services, Utils
- ğŸ”— **ä¾èµ–ç®¡ç†**: é¿å…å¾ªç¯ä¾èµ–ã€ä½¿ç”¨ Trait æŠ½è±¡
- ğŸ“ **å‘½åè§„èŒƒ**: snake_case (æ–‡ä»¶/å˜é‡), PascalCase (ç»„ä»¶/ç±»å‹)

**ç›®å½•ç»“æ„**:
```
src/
â”œâ”€â”€ pages/          # é¡µé¢çº§ç»„ä»¶
â”œâ”€â”€ components/     # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ atoms/      # åŸå­ç»„ä»¶
â”‚   â”œâ”€â”€ molecules/  # åˆ†å­ç»„ä»¶
â”‚   â””â”€â”€ organisms/  # æœ‰æœºä½“ç»„ä»¶
â”œâ”€â”€ services/       # ä¸šåŠ¡é€»è¾‘
â”œâ”€â”€ infrastructure/ # åŸºç¡€è®¾æ–½
â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
```

---

### 6ï¸âƒ£ å›½é™…åŒ–ç³»ç»Ÿ (i18n) ğŸŒ

#### [å›½é™…åŒ–å®ŒæˆæŠ¥å‘Š](./I18N_COMPLETION_REPORT.md) â­
**æ—¥æœŸ**: 2025-12-05  
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª

**æˆæœ**:
- âœ… **4 ç§è¯­è¨€**: ä¸­æ–‡ã€Englishã€æ—¥æœ¬èªã€í•œêµ­ì–´
- âœ… **135+ ç¿»è¯‘ Key**: 16 ä¸ªåˆ†ç±»
- âœ… **540+ ç¿»è¯‘æ¡ç›®**: 135 keys Ã— 4 languages
- âœ… **100% è¦†ç›–**: Swap, Buy, Withdraw é¡µé¢
- âœ… **æ€§èƒ½ä¼˜åŒ–**: LazyLock é™æ€å­—å…¸ï¼Œé›¶è¿è¡Œæ—¶å¼€é”€

---

#### [å›½é™…åŒ–å®ç°æŒ‡å—](./I18N_GUIDE.md) â­
**é€‚åˆ**: æ‰€æœ‰å‰ç«¯å¼€å‘è€…

**ä½¿ç”¨æ–¹æ³•**:
```rust
// 1. è·å–ç¿»è¯‘å‡½æ•°
let t = use_translation();

// 2. ä½¿ç”¨ç¿»è¯‘
rsx! {
    h1 { {t("page.swap.title")} }
    button { {t("action.confirm")} }
}

// 3. åˆ‡æ¢è¯­è¨€
let mut lang = use_context::<Signal<Language>>();
lang.set(Language::Japanese);
```

**æ·»åŠ æ–°ç¿»è¯‘**:
```rust
// src/i18n/translations.rs
map.insert(("my.new.key", "zh"), "æˆ‘çš„æ–°æ–‡æœ¬");
map.insert(("my.new.key", "en"), "My New Text");
map.insert(("my.new.key", "ja"), "ç§ã®æ–°ã—ã„ãƒ†ã‚­ã‚¹ãƒˆ");
map.insert(("my.new.key", "ko"), "ë‚´ ìƒˆ í…ìŠ¤íŠ¸");
```

---

#### [ç¿»è¯‘ Key å‚è€ƒ](./I18N_KEYS_REFERENCE.md) â­
**é€‚åˆ**: å¿«é€ŸæŸ¥æ‰¾ç¿»è¯‘ Key

**åˆ†ç±»**:
1. `common.*` - é€šç”¨æ–‡æœ¬ (15 keys)
2. `nav.*` - å¯¼èˆªèœå• (8 keys)
3. `page.*` - é¡µé¢æ ‡é¢˜ (10 keys)
4. `wallet.*` - é’±åŒ…ç›¸å…³ (12 keys)
5. `transaction.*` - äº¤æ˜“ç›¸å…³ (10 keys)
6. `form.*` - è¡¨å•æ ‡ç­¾ (18 keys)
7. `error.*` - é”™è¯¯æ¶ˆæ¯ (15 keys)
8. `swap.*` - Swap é¡µé¢ (12 keys)
9. `buy.*` - Buy é¡µé¢ (10 keys)
10. `withdraw.*` - Withdraw é¡µé¢ (8 keys)
11. ... ç­‰ 16 ä¸ªåˆ†ç±»

**å®Œæ•´åˆ—è¡¨**: æŸ¥çœ‹æ–‡æ¡£è·å–æ‰€æœ‰ 135+ keys

---

## ğŸ” æŠ€æœ¯é€‰å‹å†³ç­–

### ä¸ºä»€ä¹ˆé€‰æ‹© Dioxusï¼Ÿ
| æ¡†æ¶ | ä¼˜åŠ¿ | åŠ£åŠ¿ |
|------|------|------|
| **Dioxus** âœ… | React-like API, WASM ä¼˜åŒ–, SSR | ç”Ÿæ€è¾ƒå° |
| Yew | æˆç†Ÿç¨³å®š | è¯­æ³•å†—é•¿, ä½“ç§¯è¾ƒå¤§ |
| Leptos | æè‡´æ€§èƒ½ | API ä¸ç¨³å®š, å­¦ä¹ æ›²çº¿é™¡ |
| React | ç”Ÿæ€æœ€å¤§ | éœ€è¦ JS, ç±»å‹ä¸å®‰å…¨ |

### ä¸ºä»€ä¹ˆé€‰æ‹© Tailwindï¼Ÿ
| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ |
|------|------|------|
| **Tailwind** âœ… | å¿«é€Ÿå¼€å‘, ç”Ÿäº§ä¼˜åŒ– | HTML å†—é•¿ |
| CSS-in-Rust | ç±»å‹å®‰å…¨ | å¼€å‘æ…¢, å·¥å…·é“¾ä¸æˆç†Ÿ |
| Vanilla CSS | å®Œå…¨æ§åˆ¶ | ç»´æŠ¤å›°éš¾ |

### ä¸ºä»€ä¹ˆé€‰æ‹© Signalï¼Ÿ
| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ |
|------|------|------|
| **Signal** âœ… | ç»†ç²’åº¦æ›´æ–°, æ€§èƒ½å¥½ | API ç¨å¤æ‚ |
| Redux-like | å¯é¢„æµ‹æ€§ | æ ·æ¿ä»£ç å¤š |
| Global State | ç®€å• | æ›´æ–°ç²—ç²’åº¦, æ€§èƒ½å·® |

---

## ğŸ“Š æŠ€æœ¯æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | å½“å‰çŠ¶æ€ | è¶‹åŠ¿ |
|------|------|----------|------|
| **WASM ä½“ç§¯** | < 500 KB | 680 KB | ğŸ”„ ä¼˜åŒ–ä¸­ |
| **é¦–å±åŠ è½½** | < 2s | 1.8s | âœ… è¾¾æ ‡ |
| **äº¤äº’å“åº”** | < 100ms | 60ms | âœ… è¶…å‡ºé¢„æœŸ |
| **æµ‹è¯•è¦†ç›–ç‡** | 90%+ | 85% | ğŸ”„ æå‡ä¸­ |
| **ç¿»è¯‘è¦†ç›–ç‡** | 100% | 100% | âœ… å®Œæˆ |
| **ä»£ç è§„èŒƒ** | 100% | 100% | âœ… å®Œæˆ |

---

## ğŸ› ï¸ å¼€å‘å·¥ä½œæµ

### æ—¥å¸¸å¼€å‘
```bash
# 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
cd IronForge-V2
trunk serve --port 8081

# 2. ç¼–è¾‘ä»£ç ï¼ˆçƒ­é‡è½½ï¼‰
# æµè§ˆå™¨è‡ªåŠ¨åˆ·æ–°

# 3. è¿è¡Œæµ‹è¯•
cargo test --target wasm32-unknown-unknown

# 4. ä»£ç æ£€æŸ¥
cargo clippy -- -D warnings
cargo fmt --check
```

### æ·»åŠ æ–°åŠŸèƒ½
1. **åˆ›å»ºç»„ä»¶/é¡µé¢**: åœ¨ `src/pages/` æˆ– `src/components/`
2. **æ·»åŠ è·¯ç”±**: åœ¨ `src/router.rs`
3. **æ·»åŠ ç¿»è¯‘**: åœ¨ `src/i18n/translations.rs`
4. **æ·»åŠ æµ‹è¯•**: åœ¨å¯¹åº”æ¨¡å—çš„ `#[cfg(test)]`
5. **æ›´æ–°æ–‡æ¡£**: åœ¨ `docs/` ç›¸å…³æ–‡æ¡£

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- **ç³»ç»Ÿæ¶æ„**: [01-architecture/01-system-architecture.md](../01-architecture/01-system-architecture.md)
- **API è®¾è®¡**: [03-api-design/02-frontend-api-layer.md](../03-api-design/02-frontend-api-layer.md)
- **å®‰å…¨æ¶æ„**: [04-security/01-key-management.md](../04-security/01-key-management.md)
- **UI è®¾è®¡**: [05-ui-ux/DESIGN_SYSTEM_V3.md](../05-ui-ux/DESIGN_SYSTEM_V3.md)
- **æµ‹è¯•ç­–ç•¥**: [07-testing/01-testing-strategy.md](../07-testing/01-testing-strategy.md)

---

**æœ€åæ›´æ–°**: 2025-12-06  
**ç»´æŠ¤è€…**: Frontend Team  
**å®¡æŸ¥è€…**: Tech Lead, Senior Engineers
