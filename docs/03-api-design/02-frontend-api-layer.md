# 前端 API 封装层设计（以 OpenAPI 为准）

本文件原先包含大量手写的请求/响应类型与路径字符串，容易与后端真实实现漂移（尤其是认证字段名与统一响应结构）。现已收敛为：**前端 API 封装层只描述设计原则与调用方式，具体路径与 schema 以 OpenAPI 生成/提取为准**。

## 权威来源

- OpenAPI：`GET http://localhost:8088/openapi.yaml`
- 业务接口统一前缀：`/api/v1/...`
- 统一响应：`{ code, message, data }`

## 设计原则（保留）

- 类型安全：请求/响应类型从 OpenAPI schema 生成或直接映射。
- 认证注入：统一在客户端层注入 `Authorization: Bearer <token>`。
- 错误处理：将后端 `code/message` 映射为前端可展示错误。
- 重试与超时：仅对幂等请求做有限重试；避免对“会产生链上副作用”的调用自动重试。

## 非托管原则（强约束）

- 不上传、不记录：私钥/助记词/钱包密码。
- 前端负责签名；后端只接收公开数据与（如需要）已签名的 raw_tx。
